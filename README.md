# Roguelike на Go

Консольная roguelike‑игра в духе классической Rogue 1980 года, написанная на Go с использованием библиотеки для работы с терминалом.  
Игрок исследует процедурно сгенерированные подземелья, сражается с разными типами противников, собирает лут и пытается пройти как можно дальше.

## Особенности

- Пошаговый геймплей в консоли с управлением с клавиатуры.
- Процедурная генерация уровней подземелья (комнаты, коридоры, старт/выход).
- Несколько типов противников с разным поведением и характеристиками.
- Система характеристик персонажа: здоровье, сила, ловкость, опыт.
- Инвентарь (рюкзак) и разные типы предметов: сокровища, еда, эликсиры, свитки, оружие.
- Сохранение и загрузка прогресса игры в файл (JSON).
- Статистика прохождений и таблица рекордов.

## Технологии

- Язык программирования: Go.
- Работа с терминалом: `goncurses`.
- Формат сохранений и статистики: JSON.
- Архитектура с разделением на слои: `presentation`, `domain`, `datalayer`.

## Архитектура проекта

Проект построен по многослойной архитектуре, разделяющей отрисовку, игровую логику и работу с данными.

- **presentation**  
  Отображение игрового поля, персонажа, противников, предметов и интерфейса в терминале.  
  Обработка ввода с клавиатуры и передача команд в доменный слой.

- **domain**  
  Чистая игровая логика, не завязанная на конкретную библиотеку отображения.  
  Определены сущности игры (игровая сессия, уровни, комнаты, персонаж, противники, предметы) и правила их взаимодействия.

- **datalayer**  
  Чтение и запись данных о прогрессе игры и статистике прохождений в файл JSON.  
  Ответственен за восстановление состояния сессии после загрузки.

## Геймплей

- Генерация подземелья, состоящего из комнат и коридоров.
- Игрок перемещается по карте, подбирает предметы, сражается с противниками и ищет выход на следующий уровень.
- Бой считается пошагово: проверка попадания, расчёт урона, применение урона.
- Сложность постепенно возрастает: усиливаются противники, меняется наполнение уровней.
- После смерти героя игра начинается заново, но результат прохождения попадает в статистику.

## Типы предметов

- **Сокровища** — накапливаются и влияют на итоговый рейтинг игрока.
- **Еда** — восстанавливает здоровье.
- **Эликсиры** — временно усиливают характеристики (сила, ловкость, максимум здоровья).
- **Свитки** — постоянно повышают характеристики.
- **Оружие** — меняет формулу нанесения урона и влияет на эффективность в бою.

## Сохранения и статистика

- Прогресс игры (состояние персонажа, уровней и сущностей) сохраняется после прохождения уровня в JSON‑файл.
- При следующем запуске можно продолжить последнюю сессию с сохранёнными характеристиками и положением.
- Ведётся статистика всех прохождений: достигнутый уровень, количество сокровищ, побеждённые противники и прочие игровые метрики.
- Таблица рекордов сортируется по количеству набранных сокровищ.

## Управление

Базовое управление персонажем:

- Передвижение: `W`, `A`, `S`, `D`.
- Использовать оружие из рюкзака: `H`.
- Использовать еду: `J`.
- Использовать эликсир: `K`.
- Использовать свиток: `E`.
- Выход в главное меню: `Esc`

При использовании предмета выводится список доступных предметов соответствующего типа, далее игрок выбирает слот (1–9).  
Для оружия предусмотрена возможность убрать оружие из рук, не выбрасывая его из инвентаря (выбор `0`).

## Установка и запуск

1.  Клонируйте репозиторий:
    ```
    git clone https://github.com/Laceytal/Rogue-Game.git
    ```

2.  Перейдите в директорию проекта:
    ```
    cd Rogue-Game
    ```
3.  Установите зависимости (goncurses требует ncurses в системе):

    macOS:
    ```
    brew install ncurses
    ```
    Linux: 
    ```
    sudo apt-get install libncurses5-dev libncursesw5-dev
    ```


4.  Соберите и запустите игру:
    ```
    go run cmd/main.go
    ```

